import{l as te,m as se,u as a,n as oe,p as ne,q as ae,s as k,v as H,x as W,d as g,o as _,c as h,f as r,y as le,z as M,e as o,A as ie,B as R,t as c,C as X,g as V,b as C,F as D,h as P,r as ue,a as E,w as j,T as re,D as ce,E as de,i as _e}from"./index-C6Efojwo.js";import{a as S,_ as y}from"./StatWarehouseSubTable.vue_vue_type_style_index_0_scoped_e6aedd3c_lang-rnnZ4jUM.js";function J(t){return te()?(se(t),!0):!1}function x(t){return typeof t=="function"?t():a(t)}const K=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const me=Object.prototype.toString,pe=t=>me.call(t)==="[object Object]",B=()=>{},U=he();function he(){var t,e;return K&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const F={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function fe(...t){if(t.length!==1)return oe(...t);const e=t[0];return typeof e=="function"?ne(ae(()=>({get:e,set:B}))):k(e)}function I(t){var e;const s=x(t);return(e=s==null?void 0:s.$el)!=null?e:s}const Q=K?window:void 0;function O(...t){let e,s,n,u;if(typeof t[0]=="string"||Array.isArray(t[0])?([s,n,u]=t,e=Q):[e,s,n,u]=t,!e)return B;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const d=[],f=()=>{d.forEach(b=>b()),d.length=0},l=(b,p,i,m)=>(b.addEventListener(p,i,m),()=>b.removeEventListener(p,i,m)),v=H(()=>[I(e),x(u)],([b,p])=>{if(f(),!b)return;const i=pe(p)?{...p}:p;d.push(...s.flatMap(m=>n.map($=>l(b,m,$,i))))},{immediate:!0,flush:"post"}),w=()=>{v(),f()};return J(w),w}let Y=!1;function q(t,e,s={}){const{window:n=Q,ignore:u=[],capture:d=!0,detectIframe:f=!1}=s;if(!n)return B;U&&!Y&&(Y=!0,Array.from(n.document.body.children).forEach(i=>i.addEventListener("click",B)),n.document.documentElement.addEventListener("click",B));let l=!0;const v=i=>u.some(m=>{if(typeof m=="string")return Array.from(n.document.querySelectorAll(m)).some($=>$===i.target||i.composedPath().includes($));{const $=I(m);return $&&(i.target===$||i.composedPath().includes($))}}),b=[O(n,"click",i=>{const m=I(t);if(!(!m||m===i.target||i.composedPath().includes(m))){if(i.detail===0&&(l=!v(i)),!l){l=!0;return}e(i)}},{passive:!0,capture:d}),O(n,"pointerdown",i=>{const m=I(t);l=!v(i)&&!!(m&&!i.composedPath().includes(m))},{passive:!0}),f&&O(n,"blur",i=>{setTimeout(()=>{var m;const $=I(t);((m=n.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!($!=null&&$.contains(n.document.activeElement))&&e(i)},0)})].filter(Boolean);return()=>b.forEach(i=>i())}const ve={[F.mounted](t,e){const s=!e.modifiers.bubble;if(typeof e.value=="function")t.__onClickOutside_stop=q(t,e.value,{capture:s});else{const[n,u]=e.value;t.__onClickOutside_stop=q(t,n,Object.assign({capture:s},u))}},[F.unmounted](t){t.__onClickOutside_stop()}};function L(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function Z(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const s=t.parentNode;return!s||s.tagName==="BODY"?!1:Z(s)}}function we(t){const e=t||window.event,s=e.target;return Z(s)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const N=new WeakMap;function be(t,e=!1){const s=k(e);let n=null,u="";H(fe(t),l=>{const v=L(x(l));if(v){const w=v;if(N.get(w)||N.set(w,w.style.overflow),w.style.overflow!=="hidden"&&(u=w.style.overflow),w.style.overflow==="hidden")return s.value=!0;if(s.value)return w.style.overflow="hidden"}},{immediate:!0});const d=()=>{const l=L(x(t));!l||s.value||(U&&(n=O(l,"touchmove",v=>{we(v)},{passive:!1})),l.style.overflow="hidden",s.value=!0)},f=()=>{const l=L(x(t));!l||!s.value||(U&&(n==null||n()),l.style.overflow=u,N.delete(l),s.value=!1)};return J(f),W({get(){return s.value},set(l){l?d():f()}})}function ge(){let t=!1;const e=k(!1);return(s,n)=>{if(e.value=n.value,t)return;t=!0;const u=be(s,n.value);H(e,d=>u.value=d)}}ge();const ye=g({__name:"InputButton",props:{type:{},iconName:{}},setup(t){return(e,s)=>(_(),h("button",{class:le(["input-button",`input-button--${e.type}`])},[r(a(S),{name:e.iconName},null,8,["name"])],2))}}),G=y(ye,[["__scopeId","data-v-5f528047"]]),$e={key:0,class:"stat-count-input__input"},We={class:"stat-count-input__btns"},Se={key:1,class:"stat-count-input__placeholder"},ke=g({__name:"StatCountInput",props:{modelValue:{},unit:{},forHeader:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e,u=k(s.modelValue),d=k(!1),f=()=>{d.value=!0},l=()=>{u.value=s.modelValue,d.value=!1},v=()=>{Number(u.value)?n("update:modelValue",Number(u.value)):n("update:modelValue",s.modelValue),u.value=s.modelValue,d.value=!1},w=W(()=>`${z(s.modelValue)} ${s.unit}`);return(b,p)=>M((_(),h("div",{class:"stat-count-input",style:X(b.forHeader?"padding: 0px 4px":"padding: 0px"),onClick:f},[d.value?(_(),h("div",$e,[M(o("input",{"onUpdate:modelValue":p[0]||(p[0]=i=>u.value=i),type:"text"},null,512),[[ie,u.value]]),o("div",We,[r(a(G),{type:"confirm",iconName:"check",onClick:R(v,["stop"])}),r(a(G),{type:"refuse",iconName:"close",onClick:R(l,["stop"])})])])):(_(),h("span",Se,c(w.value),1))],4)),[[a(ve),l]])}}),T=y(ke,[["__scopeId","data-v-d17a21a9"]]),Te={class:"stat-chip"},Ve=g({__name:"StatChip",props:{content:{}},setup(t){return(e,s)=>(_(),h("p",Te,c(e.content),1))}}),Ie=y(Ve,[["__scopeId","data-v-88c39e4c"]]),Ce={class:"stat-sub-button"},xe=g({__name:"StatSubButton",props:{text:{}},setup(t){return(e,s)=>(_(),h("button",Ce,c(e.text),1))}}),ee=y(xe,[["__scopeId","data-v-92b4bc0f"]]),z=t=>t.toLocaleString("ru-RU"),Be={class:"default-item"},Ae={class:"default-item__row"},Ee={class:"default-item__text"},Oe={class:"default-item__button"},ze={key:0,class:"default-item__button"},De={key:0,class:"default-item__row"},Pe={class:"default-item__text"},Le={class:"default-item__button"},Ne=g({__name:"DefaultItem",props:{text:{},withSubText:{type:Boolean},withTip:{type:Boolean}},setup(t){const{t:e}=V();return(s,n)=>(_(),h("div",Be,[o("div",Ae,[o("p",Ee,c(s.text),1),o("button",Oe,[r(a(S),{name:"filter"})]),s.withTip?(_(),h("button",ze,[r(a(S),{name:"tip"})])):C("",!0)]),s.withSubText?(_(),h("div",De,[o("p",Pe,c(a(e)("warehouse-table.warehouse_enough")),1),o("button",Le,[r(a(S),{name:"filter"})])])):C("",!0)]))}}),Ue=y(Ne,[["__scopeId","data-v-920eed2d"]]),He={class:"header"},Me={class:"header__item"},Re={class:"header__item--column"},je={class:"header__item-row"},Fe={class:"header__item-row"},Ye={class:"header__item"},qe=g({__name:"Header",setup(t){const{t:e}=V(),s=k(7),n=[{title:e("warehouse-table.remains_WB"),withSubText:!0,withTip:!0},{title:e("warehouse-table.remains_provider"),withSubText:!0,withTip:!0},{title:e("warehouse-table.remains_warehouse"),withSubText:!0,withTip:!0},{title:e("warehouse-table.remains_all"),withSubText:!0,withTip:!1},{title:e("warehouse-table.on_the_way"),withSubText:!1,withTip:!0}];return(u,d)=>(_(),h("div",He,[o("div",Me,[o("span",null,c(a(e)("warehouse-table.product")),1)]),(_(),h(D,null,P(n,f=>r(a(Ue),{key:f.title,text:f.title,"with-sub-text":f.withSubText,"with-tip":f.withTip},null,8,["text","with-sub-text","with-tip"])),64)),o("div",Re,[o("div",je,[o("span",null,c(a(e)("warehouse-table.orders_speed")),1),r(a(S),{name:"filter"})]),o("div",Fe,[o("span",null,c(a(e)("warehouse-table.behind")),1),r(a(T),{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=f=>s.value=f),unit:"дней","for-header":""},null,8,["modelValue"]),r(a(S),{name:"tip"})])]),o("div",Ye,[o("span",null,c(a(e)("warehouse-table.change_hidtory")),1)])]))}}),Ge=y(qe,[["__scopeId","data-v-2152878a"]]),Xe={class:"container"},Je={class:"container__title"},Ke=g({__name:"Container",setup(t){const{t:e}=V();return(s,n)=>(_(),h("div",Xe,[o("div",Je,[r(a(S),{name:"size_range"}),o("span",null,c(a(e)("warehouse-table.size_range")),1)]),ue(s.$slots,"default",{},void 0)]))}}),Qe=y(Ke,[["__scopeId","data-v-e45711eb"]]),Ze={class:"count-chip"},et=g({__name:"CountChip",props:{content:{}},setup(t){const e=t,{t:s}=V(),n=W(()=>`${s("warehouse-table.enough_for")} ${e.content} дней`);return(u,d)=>(_(),h("span",Ze,c(n.value),1))}}),A=y(et,[["__scopeId","data-v-37dddac9"]]),tt={class:"item"},st={class:"item__grid"},ot={class:"item__grid-cell--first"},nt={class:"item__grid-img"},at=["src"],lt={class:"item__grid-title"},it={class:"item__grid-article"},ut={class:"item__grid-cell"},rt={class:"item__grid-cell"},ct={class:"item__grid-cell"},dt={key:1},_t={class:"item__grid-cell"},mt={class:"item__grid-cell"},pt={class:"item__grid-cell"},ht={class:"item__grid-cell--last"},ft={key:0,class:"item__sub-table"},vt=g({__name:"Item",props:{item:{}},setup(t){const e=t,{t:s}=V(),n=k(!1),u=k("150 шт. / 30 дней"),d=()=>{n.value=!n.value},f=W(()=>`${e.item.title.slice(0,72)}...`),l=W(()=>`${s("warehouse-table.article")} ${e.item.articleWB}`),v=W(()=>`${z(e.item.remainsProvider)} шт.`),w=W(()=>`${z(e.item.remainsAll)} шт.`),b=W(()=>`${z(e.item.remainsWarehouse)} шт.`);return(p,i)=>(_(),h("div",tt,[o("div",st,[o("div",ot,[o("div",nt,[o("img",{src:p.item.img},null,8,at)]),o("div",null,[o("div",lt,[o("span",null,c(f.value),1),r(a(S),{name:"link"}),r(a(S),{name:"info"})]),o("span",it,c(l.value),1)])]),o("div",ut,[r(a(T),{modelValue:p.item.remainsWB,"onUpdate:modelValue":i[0]||(i[0]=m=>p.item.remainsWB=m),unit:"шт."},null,8,["modelValue"]),r(a(A),{content:549})]),o("div",rt,[o("span",null,c(v.value),1),r(a(A),{content:549})]),o("div",ct,[p.item.sizeRange?(_(),h("span",dt,c(b.value),1)):(_(),E(a(T),{key:0,modelValue:p.item.remainsWarehouse,"onUpdate:modelValue":i[1]||(i[1]=m=>p.item.remainsWarehouse=m),unit:"шт."},null,8,["modelValue"])),r(a(A),{content:549})]),o("div",_t,[o("span",null,c(w.value),1),r(a(A),{content:549})]),o("div",mt,[r(a(T),{modelValue:p.item.onTheWay,"onUpdate:modelValue":i[2]||(i[2]=m=>p.item.onTheWay=m),unit:"шт."},null,8,["modelValue"])]),o("div",pt,[r(a(T),{modelValue:p.item.expenditure,"onUpdate:modelValue":i[3]||(i[3]=m=>p.item.expenditure=m),unit:"шт. / день"},null,8,["modelValue"]),o("span",null,c(u.value),1)]),o("div",ht,[p.item.sizeRange?C("",!0):(_(),E(a(ee),{key:0,text:a(s)("btns.watch")},null,8,["text"]))])]),p.item.sizeRange?(_(),h("div",ft,[o("button",{class:"item__btn",onClick:d},[o("span",null,c(a(s)("warehouse-table.size_range")),1),r(a(S),{name:"toggle",style:X(n.value?"transform: rotate(180deg); transition-duration: 0.5s":"transform: rotate(0deg); transition-duration: 0.5s")},null,8,["style"])]),r(re,{name:"slide-fade"},{default:j(()=>[n.value?(_(),E(a(Qe),{key:0},{default:j(()=>[r(a(Lt),{items:p.item.sizeRange},null,8,["items"])]),_:1})):C("",!0)]),_:1})])):C("",!0)]))}}),wt=y(vt,[["__scopeId","data-v-59bd01f5"]]),bt={class:"stat-warehouse-table"},gt={class:"stat-warehouse-table__content"},yt=g({__name:"StatWarehouseTable",props:{tableItems:{}},setup(t){return(e,s)=>(_(),h("div",bt,[r(a(Ge)),o("div",gt,[(_(!0),h(D,null,P(e.tableItems,n=>(_(),E(a(wt),{key:n.id,item:n},null,8,["item"]))),128))])]))}}),$t=y(yt,[["__scopeId","data-v-ccf2182d"]]),Wt={class:"sub-table"},St={class:"sub-table__head"},kt={class:"sub-table__row-item"},Tt={class:"sub-table__row-item"},Vt={class:"sub-table__row-item"},It={class:"sub-table__row-item"},Ct={class:"sub-table__row-item"},xt={class:"sub-table__row-item"},Bt={class:"sub-table__row-item"},At={class:"sub-table__row-item"},Et={class:"sub-table__row-item"},Ot={class:"sub-table__row-item"},zt={class:"sub-table__row-item"},Dt={class:"sub-table__row-item"},Pt=g({__name:"StatWarehouseSubTable",props:{items:{}},setup(t){const{t:e}=V(),s=k("2 дня"),n=[e("warehouse-table.size"),e("warehouse-table.remains_WB"),e("warehouse-table.enough_for"),e("warehouse-table.remains_provider"),e("warehouse-table.enough_for"),e("warehouse-table.remains_warehouse"),e("warehouse-table.enough_for"),e("warehouse-table.remains_all"),e("warehouse-table.enough_for"),e("warehouse-table.on_the_way"),e("warehouse-table.orders_speed"),e("warehouse-table.change_hidtory")],u=(d,f)=>`${d}  ${f}`;return(d,f)=>(_(),h("div",Wt,[o("div",St,[(_(),h(D,null,P(n,l=>o("div",{class:"sub-table__head-item",key:l},[o("span",null,c(l),1)])),64))]),(_(!0),h(D,null,P(d.items,l=>(_(),h("div",{class:"sub-table__row",key:l.id},[o("div",kt,[r(a(Ie),{content:l.size.toString()},null,8,["content"])]),o("div",Tt,[o("span",null,c(u(l.remainsWB,"шт.")),1)]),o("div",Vt,[o("span",null,c(s.value),1)]),o("div",It,[o("span",null,c(u(l.remainsProvider,"шт.")),1)]),o("div",Ct,[o("span",null,c(s.value),1)]),o("div",xt,[r(a(T),{modelValue:l.remainsWarehouse,"onUpdate:modelValue":v=>l.remainsWarehouse=v,unit:"шт."},null,8,["modelValue","onUpdate:modelValue"])]),o("div",Bt,[o("span",null,c(s.value),1)]),o("div",At,[o("span",null,c(u(l.remainsAll,"шт.")),1)]),o("div",Et,[o("span",null,c(s.value),1)]),o("div",Ot,[r(a(T),{modelValue:l.onTheWay,"onUpdate:modelValue":v=>l.onTheWay=v,unit:"шт."},null,8,["modelValue","onUpdate:modelValue"])]),o("div",zt,[o("span",null,c(u(5,"шт. / день")),1)]),o("div",Dt,[r(a(ee),{text:a(e)("btns.watch")},null,8,["text"])])]))),128))]))}}),Lt=y(Pt,[["__scopeId","data-v-e6aedd3c"]]),Nt=ce("warehouse",{state:()=>({totalCount:0,warehouseItems:[]}),actions:{fetchWarehouse(){this.totalCount=134,this.warehouseItems=[{id:"1",img:"https://app2top.ru/wp-content/uploads/2022/11/disco-zaum.jpg",title:"Долговечный букет из 9 роз в коробке, в подарок — вечные стабилизированная подставка.",articleWB:"9619790",remainsWB:55475,remainsProvider:1e3,remainsWarehouse:11453,remainsAll:142412,onTheWay:453,expenditure:5},{id:"2",img:"https://app2top.ru/wp-content/uploads/2022/11/disco-zaum.jpg",title:"Долговечный букет из 9 роз в коробке, в подарок — вечные стабилизированная подставка.",articleWB:"9619790",remainsWB:55475,remainsProvider:1e3,remainsWarehouse:11453,remainsAll:142412,onTheWay:453,expenditure:5,sizeRange:[{id:"1",size:38,remainsWB:41,remainsProvider:41,remainsWarehouse:41,remainsAll:41,onTheWay:41,expenditure:5},{id:"2",size:41,remainsWB:41,remainsProvider:41,remainsWarehouse:41,remainsAll:41,onTheWay:41,expenditure:5}]}]}},getters:{getTotalCount:t=>t.totalCount,getWarehouseItems:t=>t.warehouseItems}}),Ut={class:"warehouse"},Ht={class:"warehouse__title"},Mt=g({__name:"WarehouseView",setup(t){V();const e=Nt(),s=W(()=>e.getTotalCount),n=W(()=>e.getWarehouseItems);return de(e.fetchWarehouse),(u,d)=>(_(),h("div",Ut,[o("p",Ht,[d[0]||(d[0]=_e("Товары: ")),o("span",null,c(s.value)+" шт.",1)]),r(a($t),{"table-items":n.value},null,8,["table-items"])]))}}),Ft=y(Mt,[["__scopeId","data-v-39008607"]]);export{Ft as default};
