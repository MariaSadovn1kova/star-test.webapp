import{l as ee,m as te,u as a,n as se,p as oe,q as ne,s as k,v as R,x as W,d as g,o as c,c as h,f as u,y as ae,z as H,e as s,A as ie,B as j,t as r,g as T,b as B,F as D,h as L,r as le,a as E,C as re,w as U,T as ue,D as ce,E as de,i as _e}from"./index-DZBetYxB.js";import{a as S,_ as y}from"./StatWarehouseSubTable.vue_vue_type_style_index_0_scoped_3f240682_lang-xce5_3xz.js";function X(t){return ee()?(te(t),!0):!1}function V(t){return typeof t=="function"?t():a(t)}const J=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const me=Object.prototype.toString,pe=t=>me.call(t)==="[object Object]",x=()=>{},M=he();function he(){var t,e;return J&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const F={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function fe(...t){if(t.length!==1)return se(...t);const e=t[0];return typeof e=="function"?oe(ne(()=>({get:e,set:x}))):k(e)}function I(t){var e;const o=V(t);return(e=o==null?void 0:o.$el)!=null?e:o}const K=J?window:void 0;function O(...t){let e,o,n,_;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,n,_]=t,e=K):[e,o,n,_]=t,!e)return x;Array.isArray(o)||(o=[o]),Array.isArray(n)||(n=[n]);const i=[],f=()=>{i.forEach(b=>b()),i.length=0},p=(b,m,l,d)=>(b.addEventListener(m,l,d),()=>b.removeEventListener(m,l,d)),w=R(()=>[I(e),V(_)],([b,m])=>{if(f(),!b)return;const l=pe(m)?{...m}:m;i.push(...o.flatMap(d=>n.map($=>p(b,d,$,l))))},{immediate:!0,flush:"post"}),v=()=>{w(),f()};return X(v),v}let Y=!1;function q(t,e,o={}){const{window:n=K,ignore:_=[],capture:i=!0,detectIframe:f=!1}=o;if(!n)return x;M&&!Y&&(Y=!0,Array.from(n.document.body.children).forEach(l=>l.addEventListener("click",x)),n.document.documentElement.addEventListener("click",x));let p=!0;const w=l=>_.some(d=>{if(typeof d=="string")return Array.from(n.document.querySelectorAll(d)).some($=>$===l.target||l.composedPath().includes($));{const $=I(d);return $&&(l.target===$||l.composedPath().includes($))}}),b=[O(n,"click",l=>{const d=I(t);if(!(!d||d===l.target||l.composedPath().includes(d))){if(l.detail===0&&(p=!w(l)),!p){p=!0;return}e(l)}},{passive:!0,capture:i}),O(n,"pointerdown",l=>{const d=I(t);p=!w(l)&&!!(d&&!l.composedPath().includes(d))},{passive:!0}),f&&O(n,"blur",l=>{setTimeout(()=>{var d;const $=I(t);((d=n.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!($!=null&&$.contains(n.document.activeElement))&&e(l)},0)})].filter(Boolean);return()=>b.forEach(l=>l())}const ve={[F.mounted](t,e){const o=!e.modifiers.bubble;if(typeof e.value=="function")t.__onClickOutside_stop=q(t,e.value,{capture:o});else{const[n,_]=e.value;t.__onClickOutside_stop=q(t,n,Object.assign({capture:o},_))}},[F.unmounted](t){t.__onClickOutside_stop()}};function N(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}function Q(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const o=t.parentNode;return!o||o.tagName==="BODY"?!1:Q(o)}}function we(t){const e=t||window.event,o=e.target;return Q(o)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}const P=new WeakMap;function be(t,e=!1){const o=k(e);let n=null,_="";R(fe(t),p=>{const w=N(V(p));if(w){const v=w;if(P.get(v)||P.set(v,v.style.overflow),v.style.overflow!=="hidden"&&(_=v.style.overflow),v.style.overflow==="hidden")return o.value=!0;if(o.value)return v.style.overflow="hidden"}},{immediate:!0});const i=()=>{const p=N(V(t));!p||o.value||(M&&(n=O(p,"touchmove",w=>{we(w)},{passive:!1})),p.style.overflow="hidden",o.value=!0)},f=()=>{const p=N(V(t));!p||!o.value||(M&&(n==null||n()),p.style.overflow=_,P.delete(p),o.value=!1)};return X(f),W({get(){return o.value},set(p){p?i():f()}})}function ge(){let t=!1;const e=k(!1);return(o,n)=>{if(e.value=n.value,t)return;t=!0;const _=be(o,n.value);R(e,i=>_.value=i)}}ge();const ye=g({__name:"InputButton",props:{type:{},iconName:{}},setup(t){return(e,o)=>(c(),h("button",{class:ae(["input-button",`input-button--${e.type}`])},[u(a(S),{name:e.iconName},null,8,["name"])],2))}}),G=y(ye,[["__scopeId","data-v-5f528047"]]),$e={key:0,class:"stat-count-input__input"},We={class:"stat-count-input__btns"},Se={key:1,class:"stat-count-input__placeholder"},ke=g({__name:"StatCountInput",props:{modelValue:{},unit:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,n=e,_=k(o.modelValue),i=k(!1),f=()=>{i.value=!0},p=()=>{_.value=o.modelValue,i.value=!1},w=()=>{Number(_.value)?n("update:modelValue",Number(_.value)):n("update:modelValue",o.modelValue),_.value=o.modelValue,i.value=!1},v=W(()=>`${z(o.modelValue)} ${o.unit}`);return(b,m)=>H((c(),h("div",{class:"stat-count-input",onClick:f},[i.value?(c(),h("div",$e,[H(s("input",{"onUpdate:modelValue":m[0]||(m[0]=l=>_.value=l),type:"text"},null,512),[[ie,_.value]]),s("div",We,[u(a(G),{type:"confirm",iconName:"check",onClick:j(w,["stop"])}),u(a(G),{type:"refuse",iconName:"close",onClick:j(p,["stop"])})])])):(c(),h("span",Se,r(v.value),1))])),[[a(ve),p]])}}),C=y(ke,[["__scopeId","data-v-7ef1ac62"]]),Te={class:"stat-chip"},Ie=g({__name:"StatChip",props:{content:{}},setup(t){return(e,o)=>(c(),h("p",Te,r(e.content),1))}}),Ce=y(Ie,[["__scopeId","data-v-88c39e4c"]]),Be={class:"stat-sub-button"},Ve=g({__name:"StatSubButton",props:{text:{}},setup(t){return(e,o)=>(c(),h("button",Be,r(e.text),1))}}),Z=y(Ve,[["__scopeId","data-v-92b4bc0f"]]),z=t=>t.toLocaleString("ru-RU"),xe={class:"default-item"},Ae={class:"default-item__row"},Ee={class:"default-item__text"},Oe={class:"default-item__button"},ze={key:0,class:"default-item__button"},De={key:0,class:"default-item__row"},Le={class:"default-item__text"},Ne={class:"default-item__button"},Pe=g({__name:"DefaultItem",props:{text:{},withSubText:{type:Boolean},withTip:{type:Boolean}},setup(t){const{t:e}=T();return(o,n)=>(c(),h("div",xe,[s("div",Ae,[s("p",Ee,r(o.text),1),s("button",Oe,[u(a(S),{name:"filter"})]),o.withTip?(c(),h("button",ze,[u(a(S),{name:"tip"})])):B("",!0)]),o.withSubText?(c(),h("div",De,[s("p",Le,r(a(e)("warehouse-table.warehouse_enough")),1),s("button",Ne,[u(a(S),{name:"filter"})])])):B("",!0)]))}}),Me=y(Pe,[["__scopeId","data-v-920eed2d"]]),Re={class:"header"},He={class:"header__item"},je={class:"header__item--column"},Ue={class:"header__item-row"},Fe={class:"header__item-row"},Ye={class:"header__item"},qe=g({__name:"Header",setup(t){const{t:e}=T(),o=k(7),n=[{title:e("warehouse-table.remains_WB"),withSubText:!0,withTip:!0},{title:e("warehouse-table.remains_provider"),withSubText:!0,withTip:!0},{title:e("warehouse-table.remains_warehouse"),withSubText:!0,withTip:!0},{title:e("warehouse-table.remains_all"),withSubText:!0,withTip:!1},{title:e("warehouse-table.on_the_way"),withSubText:!1,withTip:!0}];return(_,i)=>(c(),h("div",Re,[s("div",He,[s("span",null,r(a(e)("warehouse-table.product")),1)]),(c(),h(D,null,L(n,f=>u(a(Me),{key:f.title,text:f.title,"with-sub-text":f.withSubText,"with-tip":f.withTip},null,8,["text","with-sub-text","with-tip"])),64)),s("div",je,[s("div",Ue,[s("span",null,r(a(e)("warehouse-table.orders_speed")),1),u(a(S),{name:"filter"})]),s("div",Fe,[s("span",null,r(a(e)("warehouse-table.behind")),1),u(a(C),{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=f=>o.value=f),unit:"дней"},null,8,["modelValue"]),u(a(S),{name:"tip"})])]),s("div",Ye,[s("span",null,r(a(e)("warehouse-table.change_hidtory")),1)])]))}}),Ge=y(qe,[["__scopeId","data-v-4b69461e"]]),Xe={class:"container"},Je={class:"container__title"},Ke=g({__name:"Container",setup(t){const{t:e}=T();return(o,n)=>(c(),h("div",Xe,[s("div",Je,[u(a(S),{name:"size_range"}),s("span",null,r(a(e)("warehouse-table.size_range")),1)]),le(o.$slots,"default",{},void 0)]))}}),Qe=y(Ke,[["__scopeId","data-v-e45711eb"]]),Ze={class:"count-chip"},et=g({__name:"CountChip",props:{content:{}},setup(t){const e=t,{t:o}=T(),n=W(()=>`${o("warehouse-table.enough_for")} ${e.content} дней`);return(_,i)=>(c(),h("span",Ze,r(n.value),1))}}),A=y(et,[["__scopeId","data-v-37dddac9"]]),tt={class:"item"},st={class:"item__grid"},ot={class:"item__grid-cell--first"},nt={class:"item__grid-img"},at=["src"],it={class:"item__grid-title"},lt={class:"item__grid-article"},rt={class:"item__grid-cell"},ut={class:"item__grid-cell"},ct={class:"item__grid-cell"},dt={key:1},_t={class:"item__grid-cell"},mt={class:"item__grid-cell"},pt={class:"item__grid-cell"},ht={class:"item__grid-cell--last"},ft={key:0,class:"item__sub-table"},vt=g({__name:"Item",props:{item:{}},setup(t){const e=t,{t:o}=T(),n=k(!1),_=k("150 шт. / 30 дней"),i=()=>{n.value=!n.value},f=W(()=>`${e.item.title.slice(0,72)}...`),p=W(()=>`${o("warehouse-table.article")} ${e.item.articleWB}`),w=W(()=>`${z(e.item.remainsProvider)} шт.`),v=W(()=>`${z(e.item.remainsAll)} шт.`),b=W(()=>`${z(e.item.remainsWarehouse)} шт.`);return(m,l)=>(c(),h("div",tt,[s("div",st,[s("div",ot,[s("div",nt,[s("img",{src:m.item.img},null,8,at)]),s("div",null,[s("div",it,[s("span",null,r(f.value),1),u(a(S),{name:"link"}),u(a(S),{name:"info"})]),s("span",lt,r(p.value),1)])]),s("div",rt,[u(a(C),{modelValue:m.item.remainsWB,"onUpdate:modelValue":l[0]||(l[0]=d=>m.item.remainsWB=d),unit:"шт."},null,8,["modelValue"]),u(a(A),{content:549})]),s("div",ut,[s("span",null,r(w.value),1),u(a(A),{content:549})]),s("div",ct,[m.item.sizeRange?(c(),h("span",dt,r(b.value),1)):(c(),E(a(C),{key:0,modelValue:m.item.remainsWarehouse,"onUpdate:modelValue":l[1]||(l[1]=d=>m.item.remainsWarehouse=d),unit:"шт."},null,8,["modelValue"])),u(a(A),{content:549})]),s("div",_t,[s("span",null,r(v.value),1),u(a(A),{content:549})]),s("div",mt,[u(a(C),{modelValue:m.item.onTheWay,"onUpdate:modelValue":l[2]||(l[2]=d=>m.item.onTheWay=d),unit:"шт."},null,8,["modelValue"])]),s("div",pt,[u(a(C),{modelValue:m.item.expenditure,"onUpdate:modelValue":l[3]||(l[3]=d=>m.item.expenditure=d),unit:"шт. / день"},null,8,["modelValue"]),s("span",null,r(_.value),1)]),s("div",ht,[m.item.sizeRange?B("",!0):(c(),E(a(Z),{key:0,text:a(o)("btns.watch")},null,8,["text"]))])]),m.item.sizeRange?(c(),h("div",ft,[s("button",{class:"item__btn",onClick:i},[s("span",null,r(a(o)("warehouse-table.size_range")),1),u(a(S),{name:"toggle",style:re(n.value?"transform: rotate(180deg); transition-duration: 0.5s":"transform: rotate(0deg); transition-duration: 0.5s")},null,8,["style"])]),u(ue,{name:"slide-fade"},{default:U(()=>[n.value?(c(),E(a(Qe),{key:0},{default:U(()=>[u(a(Lt),{items:m.item.sizeRange},null,8,["items"])]),_:1})):B("",!0)]),_:1})])):B("",!0)]))}}),wt=y(vt,[["__scopeId","data-v-59bd01f5"]]),bt={class:"stat-warehouse-table"},gt={class:"stat-warehouse-table__content"},yt=g({__name:"StatWarehouseTable",props:{tableItems:{}},setup(t){return(e,o)=>(c(),h("div",bt,[u(a(Ge)),s("div",gt,[(c(!0),h(D,null,L(e.tableItems,n=>(c(),E(a(wt),{key:n.id,item:n},null,8,["item"]))),128))])]))}}),$t=y(yt,[["__scopeId","data-v-ccf2182d"]]),Wt={class:"sub-table"},St={class:"sub-table__head"},kt={class:"sub-table__row-item"},Tt={class:"sub-table__row-item"},It={class:"sub-table__row-item"},Ct={class:"sub-table__row-item"},Bt={class:"sub-table__row-item"},Vt={class:"sub-table__row-item"},xt={class:"sub-table__row-item"},At={class:"sub-table__row-item"},Et={class:"sub-table__row-item"},Ot={class:"sub-table__row-item"},zt={class:"sub-table__row-item"},Dt=g({__name:"StatWarehouseSubTable",props:{items:{}},setup(t){const{t:e}=T(),o=[e("warehouse-table.size"),e("warehouse-table.remains_WB"),e("warehouse-table.enough_for"),e("warehouse-table.remains_provider"),e("warehouse-table.enough_for"),e("warehouse-table.remains_warehouse"),e("warehouse-table.enough_for"),e("warehouse-table.remains_all"),e("warehouse-table.on_the_way"),e("warehouse-table.orders_speed"),e("warehouse-table.change_hidtory")];return(n,_)=>(c(),h("div",Wt,[s("div",St,[(c(),h(D,null,L(o,i=>s("div",{class:"sub-table__head-item",key:i},[s("span",null,r(i),1)])),64))]),(c(!0),h(D,null,L(n.items,i=>(c(),h("div",{class:"sub-table__row",key:i.id},[s("div",kt,[u(a(Ce),{content:i.size.toString()},null,8,["content"])]),s("div",Tt,[s("span",null,r(i.remainsWB),1)]),s("div",It,[s("span",null,r(i.remainsWB),1)]),s("div",Ct,[s("span",null,r(i.remainsWB),1)]),s("div",Bt,[s("span",null,r(i.remainsWB),1)]),s("div",Vt,[s("span",null,r(i.remainsWB),1)]),s("div",xt,[s("span",null,r(i.remainsWB),1)]),s("div",At,[s("span",null,r(i.remainsWB),1)]),s("div",Et,[s("span",null,r(i.remainsWB),1)]),s("div",Ot,[s("span",null,r(i.remainsWB),1)]),s("div",zt,[u(a(Z),{text:a(e)("btns.watch")},null,8,["text"])])]))),128))]))}}),Lt=y(Dt,[["__scopeId","data-v-3f240682"]]),Nt=ce("warehouse",{state:()=>({totalCount:0,warehouseItems:[]}),actions:{fetchWarehouse(){this.totalCount=134,this.warehouseItems=[{id:"1",img:"https://app2top.ru/wp-content/uploads/2022/11/disco-zaum.jpg",title:"Долговечный букет из 9 роз в коробке, в подарок — вечные стабилизированная подставка.",articleWB:"9619790",remainsWB:55475,remainsProvider:1e3,remainsWarehouse:11453,remainsAll:142412,onTheWay:453,expenditure:5},{id:"2",img:"https://app2top.ru/wp-content/uploads/2022/11/disco-zaum.jpg",title:"Долговечный букет из 9 роз в коробке, в подарок — вечные стабилизированная подставка.",articleWB:"9619790",remainsWB:55475,remainsProvider:1e3,remainsWarehouse:11453,remainsAll:142412,onTheWay:453,expenditure:5,sizeRange:[{id:"1",size:38,remainsWB:41,remainsProvider:41,remainsWarehouse:41,remainsAll:41,onTheWay:41,expenditure:5},{id:"2",size:41,remainsWB:41,remainsProvider:41,remainsWarehouse:41,remainsAll:41,onTheWay:41,expenditure:5}]}]}},getters:{getTotalCount:t=>t.totalCount,getWarehouseItems:t=>t.warehouseItems}}),Pt={class:"warehouse"},Mt={class:"warehouse__title"},Rt=g({__name:"WarehouseView",setup(t){T();const e=Nt(),o=W(()=>e.getTotalCount),n=W(()=>e.getWarehouseItems);return de(e.fetchWarehouse),(_,i)=>(c(),h("div",Pt,[s("p",Mt,[i[0]||(i[0]=_e("Товары: ")),s("span",null,r(o.value)+" шт.",1)]),u(a($t),{"table-items":n.value},null,8,["table-items"])]))}}),Ut=y(Rt,[["__scopeId","data-v-39008607"]]);export{Ut as default};
